<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="CIS 114 HW 8">
    <meta name="Author" content="Michael Kmak">
    <title>Homework 8 - AJAX Application</title>

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="sidebar">
        <h2>Navigation</h2>
        <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="/hw2.html">Homework 2</a></li>
            <li><a href="/hw3.html">Homework 3</a></li>
            <li><a href="/hw4.html">Homework 4</a></li>
            <li><a href="/hw5.html">Homework 5</a></li>
            <li><a href="/hw6.html">Homework 6</a></li>
            <li><a href="/hw7.html">Homework 7</a></li>
            <li>&emsp;&rarr;&nbsp;<a href="/hw8.html">Homework 8</a></li>
        </ul>
    </div>
    <div id="content">
        <h1>Homework 8</h1>
        <button type="button" onclick="loadDoc()">Get CD collection</button>
        <br><br>
        <table id="demo"></table>
        
        <script>
        function loadDoc() {
            const xhttp = new XMLHttpRequest();
            xhttp.onload = function() {
                myFunction(this);
            }
            xhttp.open("GET", "hw8/cd_catalog.xml");
            xhttp.send();
        }
        function myFunction(xml) {
            const xmlDoc = xml.responseXML;
            const x = xmlDoc.getElementsByTagName("CD");
            let table="<tr><th>Artist</th><th>Title</th></tr>";
            for (let i = 0; i <x.length; i++) { 
                table += "<tr><td>" +
                x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
                "</td><td>" +
                x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
                "</td></tr>";
            }
            document.getElementById("demo").innerHTML = table;
        }
        </script>
        <h2>Explanation of Ajax</h2>
        <p>it just works&#8482</p>
    </div>
</body>
</html>